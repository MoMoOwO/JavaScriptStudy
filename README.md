# JavaScript学习记录

## 简介

1. 跟随视频学习并记录笔记

2. B站 [视频链接](http://www.bilibili.com/video/av59715096)

3. 视频教程分为四部分：
    + JS核心技术 P01-P140
    + JS高级部分 P141-P188
    + ES5、ES6、ES7相关 P189-P222
    + JS模块化

4. *代码按顺序学习，笔记记录也是按顺序，至于最后的安排，等学一段时间再看看*

## JavaScript核心技术

1. JS三种常用输出
    + 警告输出alert();
    + 网页页面中输出document.write();
    + 浏览器控制台输出console.log();

2. JS代码编写位置
    + 标签的事件响应属性中
    + 超链接标签的href属性中
    + script标签中
    + 外部js文件，需要在页面中另外引入

3. 基本语法
    + 注释：多行注释/* --- */；单行注释：//
    + JS中严格区分大小写
    + JS中每一条语句以分号结尾，如果不写分号，浏览器会自动添加，但是消耗一些系统资源，也可能会加错分号
    + JS中会忽略多个空格和换行，所以我们可以利用空格和换行来格式化代码

4. 字面量与变量
    + 字面量都是一些不可改变的值，比如1，2，3，4，5；字面量都是可以直接使用的，但是我们一般都不会直接使用字面量
    + 变量可以用来保存字面量，而且变量的值是可以任意改变的；变量更加方便我们使用，所以在开发中都是通过变量去保存字面量而不会直接使用字面量。

5. 标识符
    + 在JS中所有可以由我们自主命名的都可以称为是标识符，如变量名、函数名、属性名
    + 命名规则：标识符中可以含有字母、数字、_、$；标识符不能以数字开头；标识符不能是ES中的关键字或保留字，[JS中保留字与关键字](https://www.jianshu.com/p/65134425040e)
    + 命名规范：标识符一般都采用驼峰命名法，首字母小写，之后每个单词首字母大写，其余字母小写。
    + JS底层保存标识符时实际上是采用Unicode编码，所以理论上，所有的utf-8中含有的内容都可以作为标识符，甚至中文，但是不要使用...

6. 数据类型
    + 数据类型指的就是字面量类型
    + 在JS中一共由六种数据类型：String字符串，Number数值，Boolean布尔值，Null空值，Undefined未定义，Object对象  
    其中String、Number、Boolean、Null、Undefined属于基本数据类型，而Object属于引用类型。
    + 运算符typeof来检查一个变量的类型： typeof a;
    + String字符串：  
      (1) 在JS中使用字符串需要使用引号引起来，使用双引号单引号都可以，但是不要混着用，同种类型的引号不能嵌套使用；  
      (2) 如果在字符串中需要输出引号等一些特殊符号，可以使用转义字符\，\"表示", \'表示'，\n表示换行，\t表示制表符，双斜杠表示\，打印斜杠的时候也需要转义。
    + Number数值型：  
      (1) 在JS中所有的数值都是Number类型，包括整数和浮点数(小数)；  
      (2) JS中可以表示的数字的最大值：Number.MAX_VALUE 1.7976931348623157e+308，如果使用Number表示的数据超过了最大值，则会返回Infinity表示正无穷；Number.MIN_VALUE大于0的最小值；  
      (3) NaN是一个特殊的数值，表示Not a Number；在JS中整数运算基本可以保证精确，但是进行浮点数计算可能得到一个不精确的结果。
    + Boolean布尔类型：只有两个值：true(真)、false(假)，用于逻辑判断。
    + Null与Undefined：  
      (1) Null类型的值只有一个，就是null，Null这个值专门用来表示一个为空的对象，null是一个对象，表示一个空对象。  
      (2) Undefined类型的值只有一个，就是undefined，当声明一个变量，但并不给空对象赋值就使用是它的值就是undefined。

7. 强制类型转换，将其他数据类型转换为String、Number、Boolean类型。
    + 将其他数据类型转换为String：  
      (1) 调用被转换数据类型的toString()方法，null与undefined没有toString()方法，如果调用则报错；  
      (2) 调用String()函数，并将被转换的数据作为参数传入，对于Number和Boolean实际上就是调用toString()方法，但是对于Null和undefined就不会调用toSring()，它会将null直接转换为"null"，将undefined直接转换为"undefined"。  
      (3) 使用+''的当时，即运算时强制转换类型，该方法可以转换Null和Undefined类型。
    + 将其他数据类型转换为Number：  
      (1) 使用Number()函数，字符串->数值：将要转换的数据作为参数传入，如果是纯数字字符串则直接转换为数字，只要字符串中含有非数字就转为NaN，如果字符串是空串或者全是空格的字符串则转换为0; 布尔值->数值：true:1,false:0；Null->数字：0；Undefined->数值：NaN；  
      (2) parseInt()将字符串解析为整数、PaseFloat()将字符串解析为浮点数，此方法专门用于应对字符串转数值，如果对非String类型使用parseInt()或parseFloat()，它会先将其转换为String然后再操作；可以间接使用parseInt()来对小数进行取整。  
      (3) 使用+来进行转换，效果跟Number()函数一样。
    + 将其他的数据类型转换为Boolean：使用Boolean()函数；数值型转布尔型，除了0和NaN是false，其余的都是true；字符串转布尔型，只有空串''是false，其余都是true；null和undefined转为布尔值，都转换为false；对象类型转Boolean也会转换为true。

8. 其他进制数字
    + 在JS中，如果需要表示十六进制的数字，则需要以0x开头；如果需要表示八进制的数字，则需要以0开头；如果要表示二进制数字，则需要以0b开头，但不是所有的浏览器都支持。
    + 像'070'这样的数字型字符串在使用paseInt()进行解析的时候，有的浏览器会当成八进制进行解析(如IE8)，有的浏览器会当成十进制进行解析；可是在parseInt()中传递第二个参数，来制定数字的进制，如parseInt(a, 10)。

9. 运算符(操作符)
    + 通过运算发可以对一个或多个值进行运算，并获取运算结果；比如：typeof 就是运算符，可以来获得一个值的类型，它会将该值的类型以字符串的形式返回。
    + 算数运算符:  
      (1) +：对两个值进行加法运算，并将结果返回，对于非数值型的变量进行加法运算，都会先将其转换为Number再进行加法运算；所有的值与NaN相加结果都是NaN；如果对两个字符串进行加法运算，则会将两个字符串进行拼接操作；任何值跟字符串进行加法运算都会将起转换为字符串在进行拼串操作，可以利用该方法将任意类型的变量转换为String，即使用+''，这是一种隐式的类型转换，由浏览器自动完成，实际上是调用String()函数。  
      (2) -：对两个值进行减法运算，并返回结果；  
      (3) *: 对两个值进行乘法运算  
      (4) /: 对两个值进行除法运算  
      (4) 任何值做 - 、* 、 / 运算时都会自动转换为Number，可以利用这一点做隐式的类型转换，可以通过对一个值进行-0、*1、/1来将其转换为Number，原理跟Number()函数一样，使用起来更方便。  
      (5) %：取模运算(取余数)
    + 一元运算符，只需要一个操作数的运算符：  
      (1) typeof：返回数据类型  
      (2) +：正号，不对数字产生任何影响  
      (3) -：负号，对数字进行取反
      (4) 对于非Number类型的值,会先将他转换为Number,然后在运算；从而可以对一个其他的数据类型使用+来将其转换为number,原理跟Number()函一样。
      (5) ++: 自增，通过自增可以使变量在自身的基础上加1，对于一个变量自增以后变量的值会立即自增1；自增分为两种；a++与++a，++在后先执行语句再自增，++在前先自增再执行语句。  
      (6) --: 自减，通过自减可以使变量在自身的基础上减1，同样存在a--与--a的差异，与自增类似。
    + 逻辑运算符：与或非  
      (1) !: 非,非运算就是对一个布尔值进行取反操作,!true=false,!false=true;对非布尔值进行运算,会先将其转换为布尔值然后进行运算;任意数据类型可以通过取两次反来转换为布尔值，类似于Boolean。  
      (2) &&: 与，可以对运算符两侧的值进行与运算并返回结果;两个值中,只要有一个为false就返回false,只有两个值都为true时才返回true;JS中的与属于短路与,即如果第一个值为false则不会再看第二个值。  
      (3) ||: 或,对运算符两侧的值进行或运算并返回结果;两个值中只要有一个为true就返回true,只有两个值都为false时才返回false;JS中的或属于短路或,即如果第一个值为true则不会再看第二个值。  
      (4) 对于非布尔值进行与或运算：会先将其转换为布尔值,然后再运算,并返回原来的值。  
      与运算：如果第一个值为true则返回第二个值，如果第一个值为false则返回第一个值。  
      或运算；找true如果第一个值为true则直接返回第一个值，如果第一个值为false则直接返回第二个值。
    + 赋值运算符  
      (1) =: 可以将符号右侧得值赋值给符号左侧的变量  
      (2) +=: a += 5等价于a = a + 5  
      (3) -=: a -= 5等价于a = a - 5  
      (4) \*=: a \*= 5等价于a = a * 5  
      (5) /=: a -= 5等价于a = a / 5  
      (6) %=: a -= 5等价于a = a % 5
    + 关系运算符，通过关系运算符可以比较两个值之间的大小关系，如果关系成立返回true否则返回false。  
      (1) 与数学中的关系运算符类似：>: 大于号、>=: 大于等于、<: 小于号、<=: 小于等于  
      (2) 非数值的情况进行比较：非数值型与数值的变量进行比较，会先将其转变为数值型再进行比较；任何值和NaN做任何比较都是false；如果关系运算符两侧都是字符串时，则不会将其转换为数字进行比较，而是分别比较字符串中字符的[Unicode编码](https://baike.baidu.com/item/Unicode%E7%A0%81/7704811)，比较字符串时是一位一位两两进行比较,一样则比较下一位，比较两个字符串型的数字可能会得到不可预期的结果，可以选择将其中任意一个转为数值型。
    + Unicode编码在网页中的使用  
      (1) 在JS中，字符串变量中使用转义字符输入Unicode编码：\u四位编码  
      (2) 在HTML中，&#四位编码;
    + 相等运算符，用来比较两个值是否相等，如果相等返回true，否则返回false  
      (1) == 等于，做相等比较运算，当比较两个值时，如果两个值类型不同，那么会先将他们转换为相同类型再进行比较;Undefined衍生自null,所以两者做相等判断时,返回true;NaN不和任何值相等,包括它本身，判断一个变量值是否时NaN需要使用isNaN()函数来进行判断,变量作为参数传入，如果相等返回true，否则返回false。  
      (2) !=不等于：用来判断两个值不相等；使用!=来做不相等运算，不相等也会对变量进行自动类型转换，如果转换后相等它也会返回false。  
      (3) === 全等，用来判断两个值是否全等，与==类似，但是不会做类型转换，如果两个变量类型不同，直接返回false。  
      (4) !==不全等，用来判断两个值是否不全等，与!=类似，但是不会做类型转换，如果两个变量类型不同，直接返回false。
    + 条件运算符，也叫三元运算符、三目运算符：  
      (1) 语法：条件表达式 ? 语句1 : 语句2;  
      (2) 执行流程：条件运算符在执行时，首先对条件表达式进行求值，如果该值为true则执行语句1并返回执行结果，如果该值为false则执行语句2并返回执行结果。  
      (3) 如果条件表达式的值为非布尔值，那么会先将其传唤为布尔值在进行运算。
    + 逗号运算符：,使用逗号运算符可以分割多个语句,一般可以在声明多个变量时使用。
    + 运算符的优先级，和数学中的运算符优先级类似，如先乘除，后加减在JS中有一个运算发优先级的表，在表中位置月考上优先级越高，优先级越高越先计算，优先级一样则从左往右进行计算。

      | 运算符优先级(越靠上优先级越高) |
      | :-- |
      | .、[]、new |
      | () |
      | ++、-- |
      | !、~、+(单目)、-(单目)、typeof、void、delete |
      | %、*、/ |
      | +(双目)、-(双目) |
      | <<、>>、>>> |
      | <、<=、>、>= |
      | == 、!== 、=== |
      | & |
      | ^ |
      | &#124; |
      | && |
      | &#124;&#124; |
      | ?: |
      | =、+=、-=、*=、/=、%=、<<=、>>=、>>>=、&=、^=、&#124;= |
      | , |

10. 语句和代码块
    + 程序是由一条条语句构成的，语句时按照自上向下的顺序一条条执行的。
    + 在JS中可以使用{}花括号来为语句进行分组，同一个{}中的语句我们称之为一组语句，或者称之为代码块，她们要么都执行，要么都不执行，代码块后面就不用再写分号了。
    + JS中的代码块只具有分组的作用，没有其他的用途，即代码块中的内容，在外部是完全可见的。

11. 流程控制语句，JS中的程序是从上到下一行一行执行的，通过使用流程控制语句可以控制程序执行流程，可以使程序可以根据一定的条件来选择执行。
    + 条件判断(选择)语句，使用条件判断语句可以在执行某条语句之前进行判断，如果条件成立才会执行语句，条件不成立则语句不执行。  
      (1) 语法一：

      ``` JavaScript
        if(条件表达式)
            语句
      ```  

      if语句在执行时会先对条件表达式进行求值判断，如果条件表达式的值为true,则执行if后的语句，如果条件表达式的值为false则不会执行if后的语句；if语句只能控制紧随其后的那一条语句，要想控制多条语句则需要将多条语句放到代码块，if语句后的代码块不是必须的，但是在开发中尽量写上。  
      (2) 语法二:

      ``` JavaScript
        if(条件表达式){
            语句...
        }else{
            语句...
        }
      ```

      if...else...语句，当该语句执行时，会先对if后的条件表达式进行求值判断，如果该值为true,则执行if后的语句,如果该值为false则执行else后的语句。  
      (3) 语法三：

      ``` JavaScript
        if(条件表达式){
            语句...
        }else if(条件表达式){
            语句...
        }else if(条件表达式){
            语句...
        }else{
            语句...
        }

      ```

      if...else if...else语句，当该语句执行时,会从上到下一次对条件表但是进行求值判断，如果职位true则执行当前语句，如果值为false,则继续向下判断，如果所有条件都不满足,则执行最后的一个else语句；该语句中，只会有一个代码块被执行，一旦代码块执行了，则直接结束语句。
    + 条件分支语句，switch语句  
      (1) 语法：

      ``` JavaScript
        switch(条件表达式){
            case 表达式:
                语句...
                break;
            case 表达式:
                语句...
                break;
            case 表达式:
                语句...
                break;
            ...
            default:
                语句...
                break;
        }
      ```  

      (2) 执行流程：在执行时会依次将case后的表达式的值和switch后的条件表达式的值进行全等比较，如果比较结果为true，则当前的case处开始执行代码(之后的所有代码，需要使用break;来退出switch语句)，如果比较结果为false则继续向下比较，如果所有的条件都不满足则会执行最后的default中的语句。  
      (3) switch语句与if语句功能上实际上有重复，使用switch实现的功能可以通过if来实现，同样使用if实现的功能也能通过switch来实现。
    + 循环语句:通过循环语句可以反复的执行一段代码多次  
      (1) while循环:  
      语法：

      ``` JavaScript
        while(条件表达式){
            语句...
        }
      ```  

      执行过程：先对条件表达式进行求值判断，如果值为true则执行循环体，循环体执行完毕后，继续对表达式进行判断，如果为true，则继续执行循环体，依次类推，知道值为false则终止循环  
      (2) do...while循环
      语法:

      ```JavaScript
        do{
            语句...
        }while(条件表达式)
      ```

      执行过程：先执行循环体，循环体执行完毕之后，才对while后的条件表达式进行判断，如果结果为true，则会继续执行循环体，执行完毕继续判断依次类推，如果结果为false，则终止循环。  
      实际上这两个语句功能类似，不同的十while实现判断后执行，do...while是先执行后判断。所以do...while可以保证循环体至少执行一次。  
      (3) for循环，for语句也是一个循环语句，也称为for循环。在for循环中为我们提供了专门的位置用来方三个表达式：初始化表达式，条件表达式，更新表达式。  
      语法：

      ``` JavaScript
        for(初始化表达式; 条件表达式; 更新表达式){
            语句...
        }
      ```

      执行流程：先执行初始化表达式，初始化变量；执行条件表达式，判断是否执行循环，如果为true则执行循环，如果为false则终止循环；循环体执行完后执行更新表达式；重复判断条件表达式和执行循环。初始化表达式只在开始执行了一次。  
      for循环可以嵌套，即一个for循环里还可以嵌套一个for循环，从而能够灵活的进行流程控制。
    (4) break和continue：break关键字可以用来退出switch或循环语句，不能单独在if语句中中使用break和continue关键字。break默认只能终止当前循环，可以为循环语句创建一个label，来表示当前的循环，label：循环语句，使用break语句是，可以在break后跟一个label，这样break将会结束指定的循环，而不是当前循环。continue关键字可以用来跳过当次循环。

12. 对象
    + JS中的数据类型：String 字符串、Number 数值、Boolean 布尔值、Null 空值、Undefined 未定义(以上者五种类型属于基本数据类型，以后只要看到的之不是上面5种，则全都是对象类型)、Object 对象。如果使用基本数据类型的数据，我们所创建的变量都是独立的，不能成为一个整体，这就引出了对象的需求；对象属于一种复合的数据类型，在对象中可以保存多个不同的数据类型的属性。
    + 对象的分类:  
      (1) 内建对象：由ES标准中定义的对象,在任何的ES的实现中都可以使用，比如Math String Number Boolean Function Object...  
      (2) 宿主对象：由JS的运行环境提供的对象,目前来讲主要值由浏览器提供的对象,比如DOM、BOM。  
      (3) 自定义对象，由开发人员自己创建的对象。
    + 对象的基本操作：  
      (1) 创建一个对象，使用new关键字调用的函数，是构造函数constructor，构造函数是专门用来创建对象的函数。使用typeof返回变量类型会返还object。  
      (2) 在对象中保存的值成为属性,向对象添加属性，语法：对象.属性名 = 属性值;  
      (3) 读取对象中的属性，语法：对象.属性名;如果读取对象中没有的属性,不会报错,而是返回undefined。  
      (4) 修改对象的属性值，语法：对象.属性名 = 新属性值;  
      (5) 删除对象的属性，语法：delete 对象.属性名;
    + 属性名与属性值：  
      (1) 属性名：对象的属性名不强制要求遵守标识符的规范，但是使用的时候尽量还是遵循标志符的规范。如果要使用特殊的属性名不能采用'.'的方式来操作，需要使用另一种方式,语法:对象["属性名"] = 属性值;读取的时候也需要采用这种方式。使用[]这种i形式去操作属性，更加的灵活，在[]中可以直接传递一个变量，这样变量值是多少就会读取那个属性名对应的属性值。  
      (2) 属性值：JS对象的属性值，可以是任意的数据类型，甚至也可以是一个对象。  
      (3) in运算符：通过in运算符可以检查一个对象中是否含有指定的属性，如果有则返回true，没有则返回false。
    + 基本数据类型和引用数据类型：  
      (1) JS中的变量都是保存到栈内存中的，基本数据类型的值直接在栈内存中进行存储，值与值之间都是独立存在，修改一个变量不会影响其他的变量。引用数据类型(对象)是保存到堆内存中的，每创建一个新的对象，就会在堆内存中开辟出一个新的空间，而变量保存的是对象的内存地址(对象的引用)。如果两个变量保存的是同一个对象的引用，那么当一个变量修改属性时，另一个也会受到影响。  
      (2) 修改对象变量的值不会对对象产生影响，实际上是将地址换为了其他值。  
      (3) 当比较两个基本数据类型的值的时候就是比较的这两个值；而比较两个引用数据类型时，它是比较的对象的内存地址，两个对象即使一摸一样但是也不一定相等，因为实际上是比较两个地址，地址不同则不相等。
    + 对象字面量  
    使用对象字面量，可以在创建对象时，直接指定对象的属性。语法：{属性名: 属性值, 属性名: 属性值...};  
    对象字面量的属性名可以加引号，也可以不加，建议不加，如果要使用一些特殊的名字，则必须加引号；属性名和属性值是一组一组的键值对(key-value)结构，最后一对的时候就不用写','了。

13. 函数
    + 函数也是一个对象，函数中可以封装一些功能(代码)，在需要是可以执行这些功能(代码)。函数可以保存一些代码，在需要的时候调用。，使用typeof检查一个函数的类型时，会返回function。封装到函数中的代码不会立即执行，函数中的代码会在函数调用的时候执行,调用函数语法:函数对象();当调用函数时，函数中封装的代码会按顺序执行。
    + 函数的创建  
      (1) 调用构造函数创建一个函数
      语法：

      ``` JavaScript
        var 函数名 = new Function("函数中执行的代码");
      ```

      然而使用构造函数创建一个函数对象很不方便，所以实际中很少使用此方法。  
      (2) 使用函数声明来创建一个函数
      语法:

      ``` JavaScript
        function 函数名(形参1, 形参2, ...){
            语句...
        }
      ```

      (3) 使用函数表达式来创建一个函数  
      语法：

      ``` JavaScript
        var 函数名 = function(形参1, 形参2, ...){
                        语句...
                    };
      ```

    + 函数的参数  
      (1) 可以在函数的()中指定一个或多个形参(形式参数)，多个形参之间使用','隔开，声明形参就相当于在函数内部声明对应的变量，但并不赋值，调用函数时，可以在()中指定实参(实际参数)，实参会赋值给函数中对应的形参。  
      (2) 调用函数时解析器不会检查实参的类型，所以在调用函数的时候要注意是否有可能会接收到非法的参数，如果有可能则需要对参数进行类型的检查。调用函数时，解析器也不会检查实参的数量，多余的实参不会被赋值，如果实参的数量少于形参的数量，则没有对应实参的形参将是undefined。函数的实参可以是任意数据类型。
    + 函数的返回值  
      (1) 可以使用return关键字设置函数的返回值，语法：return 值;return后的值将会作为函数的执行结果返回。  
      (2) 在函数中return之后的语句都不会执行了，如果return之后不跟任何值就相当于返回一个undefined，如果函数中不屑return，也会返回undefined；return可以返回任意类型的值。
    + 函数的参数可以是任意值：函数的对象可以是任何值，如String、Number等基本数据类型；当需要传递的参数过多时可以考虑使用Object类型，传递一个对象类型；甚至可以传递一个函数，当传递函数时，如果传递函数时使用“函数名()”的话，相当于调用函数，会使用函数的返回值，若使用“函数名”传递的是函数对象，相当于直接使用函数对象。
    + 函数返回值的类型：  
      (1) break，continue，return区别：使用break可以退出当前的循环，使用continue可以跳过当此循环，使用return可以结束整个函数。
      (2) 返回值可以是任意的数据类型，也可以是一个对象，也可以是一个函数。
    + 立即执行函数：函数定义完之后立即调用，只执行一次。用一个括号来包裹一个匿名函数，说明这是一个整体的函数对象，然后在这个函数对象之后再加一对括号来调用函数，同样也可以在调用的时候传递参数。
    + 方法：函数也可以成为对象的属性，如果一个函数作为一个对象的属性保存，那么我们称这个函数是这个对象的方法(method)，调用这个函数就称为调用对象的方法，只是说法上不同，本质一样。
    + 枚举对象中的属性，在不清楚一个未知对象中的属性多少的情况下，可以使用for...in语句进行枚举，  
      语法:

      ``` JavaScript
        for(var 变量 in 对象){

        }
      ```

      for...in语句遍历对象时，对象总共有几个属性，就循环执行几次，每次执行时，会将对象中的一个属性的名字赋值给变量。

14. 作用域
    + 作用域指一个变量的作用范围，在JS中一共有两种：全局作用域和函数作用域(局部作用域)。
    + 全局作用域：  
      (1) 直接写在script标间中的JS代码，都是全局作用域；  
      (2) 全局作用域在页面打开时创建，页面关闭时销毁；  
      (3) 在全局作用域中有一个全局对象window，我们可以直接使用，它代表浏览器的窗口，它由浏览器创建；在全局作用域中创建的变量都会作为window的属性，在全局作用域中创建的函数都会作为window的方法。  
      (4) 全局作用域中的变量都是全局变量，在页面的任意位置都可以访问的到。
    + 变量与函数的声明提前
      (1) 变量的声明提前，使用var关键字生命的变量，会在所有的代码执行之前被声明(但是要执行到当前行才会赋值)；但是如果声明变量时不使用var关键字，则变量不会被声明提前。  
      (2) 函数的声明提前，使用函数声名形式创建的函数，它会在所有代码执行之前就被创建，所以可以在函数声明之前调用函数；使用函数表达式创建的函数，不会被声明提前，所以不能再函数赋值之前调用。
