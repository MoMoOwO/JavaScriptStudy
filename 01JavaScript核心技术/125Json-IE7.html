<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <!-- 引入外部JSON处理包兼容IE7 -->
    <script src="js/json2.js"></script>
    
</head>
<body>
    <script>
        /*
            JSON对象在IE7及以下的浏览器中不支持，所以在这些浏览器中会报错

            eval()这个函数可以用来执行一段字符串形式的JSON代码，并将执行结果返回，
            如果使用eval()执行的字符串中含有{}，它会将其当成代码块，如果不希望将其当成代码块则可以在字符串前后添加圆括号()

            eval()功能很强大，可以直接执行一个字符串的js代码，但是在开发中尽量不要使用，首先它的执行性能比较差，
            其次它具有一些安全隐患。

            如果需要兼容IE7及以下的浏览器的JSON操作，则可以通过引入一个外部的js文件处理包
        */

        var str2 = "console.log('hello!')";
        eval(str2);

        var str = '{"name": "小明", "age": 19, "gender": "male"}';
        var obj = eval("(" + str + ")");
        console.log(obj);

        str = '{"name": "小明", "age": 19, "gender": "male"}';
        var obj2 = JSON.parse(str);
        console.log(obj2);
        console.log(typeof obj2);

    </script>
</body>
</html>